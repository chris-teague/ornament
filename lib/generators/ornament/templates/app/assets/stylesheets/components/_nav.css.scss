@import "compass/css3/inline-block";

$nav-debug: $debug !default;

// Reset BUTTON elements to look like links.
.nav button {
  background: transparent;
  border: none;
  color: inherit;
  cursor: pointer;
  display: inline;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  font: inherit;
  line-height: inherit;
  margin: 0;
  padding: 0;
  text-align: inherit;
  text-transform: inherit;
  -webkit-box-align: inherit;
  -webkit-appearance: inherit;
  height: auto;
}

.nav-horizontal {

  position: relative;

  ul {
    // TODO: Remove text spacing.
  }

  li {
    @include inline-block;
    // TODO: Restore text spacing.
    vertical-align: top;
  }

  li > a,
  li > span,
  li > button {
    @include inline-block;
    vertical-align: top;
  }

  > ul > li ul {
    left: 0;
    position: absolute;
    top: 100%;
    width: 100%;
    z-index: 2;
  }

}

.nav-dropdown {

  li > a,
  li > span,
  li > button {
    @include inline-block;
    vertical-align: top;
  }

  > ul > li {
    @include inline-block;
    // TODO: Restore text spacing.
    vertical-align: top;
    position: relative;
  }

  > ul > li > ul {
    left: 0;
    position: absolute;
    top: 100%;
    z-index: 2;
  }

  > ul > li > ul > li > ul {
    left: 100%;
    position: absolute;
    top: 0;
    z-index: 2;
  }

}

@if $nav-debug {

  .nav > ul {
    background: lighten(red, 20%);
  }

  .nav > ul > li {
    background: red;
  }

  .nav > ul > li > ul {
    background: lighten(orange, 20%);
  }

  .nav > ul > li > ul > li {
    background: orange;
  }

  .nav > ul > li > ul > li > ul {
    background: lighten(yellow, 20%);
  }

  .nav > ul > li > ul > li > ul > li {
    background: yellow;
  }

}
