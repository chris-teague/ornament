// MIXINS

// Custom button background colours and hovers
@mixin button-background($color, $hover-color:false) {
  background: $color;

  @if($hover-color) {
    &:hover {
      background: $hover-color;
    }
  } @else {
    &:hover {
      background: darken($color, 10);
    }
  }
}

// Line button style mixin
@mixin button-line($color, $hover-color:false, $text-color:false) {
  background: transparent;
  border: 1px solid $color;

  @if($text-color) {
    @include color-link($text-color, $text-color);
  }

  @if($hover-color) {
    &:hover {
      background: transparent;
      border-color: $hover-color;
    }
  } @else {
    &:hover {
      background: transparent;
      border-color: darken($color, 10);
    }
  }
}

// basic button
.button {
  padding: $xxxx-small-unit;
  border-radius: $border-radius;
  display: inline-block;
  @include color-link($white, $white);
  @include decorate-link(none, none);
  @include button-background($default-color);

  &.button__small {
    padding: $x-small-unit;
  }

  svg {
    display: block;
  }
}

// button colours
@mixin button__primary {
  @extend .button;
  @include button-background($primary-color);
}
@mixin button__secondary {
  @extend .button;
  @include button-background($secondary-color);
}
@mixin button__warning {
  @extend .button;
  @include button-background($warning-color);
}
@mixin button__error {
  @extend .button;
  @include button-background($error-color);
}
@mixin button__success {
  @extend .button;
  @include button-background($success-color);
}
@mixin button__facebook {
  @extend .button;
  @include button-background($facebook);
}
@mixin button__twitter {
  @extend .button;
  @include button-background($twitter);
}

.button__primary {
  @include button__primary;
}
.button__secondary {
  @include button__secondary;
}
.button__warning {
  @include button__warning;
}
.button__error {
  @include button__error;
}
.button__success {
  @include button__success;
}
.button__facebook {
  @include button__facebook;
}
.button__twitter {
  @include button__twitter;
}

// line styles
@mixin button__line {
  @extend .button;
  @include button-line($default-color, false, $default-color);
}
@mixin button__primary__line {
  @extend .button;
  @include button-line($primary-color, false, $primary-color);
}
@mixin button__warning__line {
  @extend .button;
  @include button-line($warning-color, false, $warning-color);
}
@mixin button__error__line {
  @extend .button;
  @include button-line($error-color, false, $error-color);
}
@mixin button__success__line {
  @extend .button;
  @include button-line($success-color, false, $success-color);
}
@mixin button__white__line {
  @extend .button;
  @include button-line($white, false, $white);
}

.button__line {
  @include button__line;
}
.button__primary__line {
  @include button__primary__line;
}
.button__warning__line {
  @include button__warning__line;
}
.button__error__line {
  @include button__error__line;
}
.button__success__line {
  @include button__success__line;
}
.button__white__line {
  @include button__white__line;
}

// disabled buttons
.button[disabled]:not([data-disable-with-loading]) {
  @include button-background($passive-color,$passive-color);
  color: $white;
  cursor: not-allowed;
}

.button__disabled {
  @extend .button;
  @extend .button[disabled];
}

// loading state button
.button[data-disable-with-loading] {
  svg {
    display: none;
  }
}
.button[data-disable-with-loading][disabled] {
  span {
    display: none;
  }

  svg {
    display: block;
  }
}

// full width buttons
.button__full {
  text-align: center;
  width: 100%;
}

// buttons with icons
.button__icon-right,
.button__icon-left {
  display: inline-block;

  svg {
    position: relative;
  }
}
.button__icon-right svg {
  float: right;
  margin-left: $xxxxx-small-unit;
}
.button__icon-left svg {
  float: left;
  margin-right: $xxxxx-small-unit;
}

.button__icon {
  display: inline-block;
  vertical-align: bottom;

  svg {
    float: left;
  }
}

// search button
.button-search {

  span {
    margin-left: $xxxxx-small-unit;
  }

  svg {
    position: relative;
    top: 3px;
    width: 17px;
    height: 17px;
  }

  path {
    fill: transparent;
  }
}

// button groups
.button-group {
  @include pie-clearfix;

  .button {
    border-radius: 0;
    float: left;
  }

  .button + .button {
    margin-left: 1px;
  }

  .button:first-child {
    border-top-left-radius: $border-radius;
    border-bottom-left-radius: $border-radius;
  }

  .button:last-child {
    border-top-right-radius: $border-radius;
    border-bottom-right-radius: $border-radius;
  }
}

// button sides
.button-sides {
  @include pie-clearfix;

  .button__back {
    float: left;
  }
  .button__forward {
    float: right;
  }
}
