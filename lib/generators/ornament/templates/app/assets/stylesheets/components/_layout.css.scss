$layout-background:             $background-color;
$layout-breakpoint:             $breakpoint-small;
$layout-container-width:        $container-width;
$layout-desktop-edge-gap:       0;
$layout-desktop-footer-gap:     $default-unit;
$layout-desktop-header-gap:     $default-unit;
$layout-footer-height:          100px;
$layout-mobile-edge-gap:        $small-unit;
$layout-mobile-footer-gap:      $small-unit;
$layout-mobile-header-gap:      $small-unit;

html {
  // overflow-y: scroll !important;
}

body {
  overflow-y: scroll;
  background: $background-color;
}

html,body,
.layout {
  height: 100%;
}

.layout--header {
  @include single-transition(transform, $layout-animation-duration);
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 10;
}

.layout--content {
  @include single-transition(transform, $layout-animation-duration);
  background: $layout-background;
  min-height: 100%;
  overflow: hidden;
  padding-top: 84px;
  position: relative;
  z-index: 2;
}

.layout--switch {
  background: red;
  float: right;
  @include media-query($layout-breakpoint,min) {
    // display: none;
  }
}

.layout--container {
  max-width: $layout-container-width;
  width: $container-percentage;
  margin: 0 auto;

  .ie8 & {
    width: $layout-container-width;
  }
}

.layout--main {
  padding-bottom: $layout-mobile-footer-gap;
  padding-top: $layout-mobile-header-gap;

  @include media-query($layout-breakpoint,min) {
    background: $layout-background;
    padding-bottom: $layout-desktop-footer-gap;
    padding-left: $layout-desktop-edge-gap;
    padding-right: $layout-desktop-edge-gap;
    padding-top: $layout-desktop-header-gap;
  }
}

// @include media-query($layout-breakpoint) {

.layout-open {
  overflow: hidden;

  .layout--switch {
    background: green;
  }
}

// TRAY STYLE

.layout--mobile-tray {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  height: 100%;
  width: $layout-mobile-tray-width;
  z-index: 1;
  @include translate(40px, 0);
  @include single-transition(transform, $layout-animation-duration);
}

.layout-open {
  .layout--mobile-tray {
    -webkit-overflow-scrolling: touch;
    overflow-x: none;
    @include translate(0, 0);
  }

  .layout--content,
  .layout--header {
    @include translate(-($layout-mobile-tray-width), 0);

    .no-csstransforms & {
      left: -($layout-mobile-tray-width);
      right: $layout-mobile-tray-width;
    }
  }

  .layout--content {
    @include box-shadow(0 0 10px rgba(0,0,0,0.2));
  }

}

.layout-transitioning {

  .layout--content {
    @include box-shadow(0 0 10px rgba(0,0,0,0.1));
  }
}

/*
// OVERLAY STYLE
.layout--mobile-tray {
  position: fixed;
  top: 0;
  right: 0;
  padding-top: 84px;
  height: 100%;
  width: $layout-mobile-tray-width;
  z-index: 5;
  @include translate($layout-mobile-tray-width, 0);
  @include transition(transform $layout-animation-duration, box-shadow $layout-animation-duration);

  .no-csstransforms & {
    right: -($layout-mobile-tray-width);
  }

  .layout-open & {
    @include translate(0, 0);

    .no-csstransforms & {
      right: 0;
    }
  }
}

.layout--main:before {
  content: "";
  position: fixed;
  z-index: 4;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.4);
  @include transition(opacity .2s);
  @include opacity(0);

  .no-opacity & {
    display: none;
  }

  .layout-open & {
    @include opacity(1);

    .no-opacity & {
      display: block;
    }
  }
}
*/
// }
